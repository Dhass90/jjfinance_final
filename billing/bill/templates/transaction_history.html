{% extends 'base.html' %}

{% block content %}
<div style="max-width: 900px; margin: 0 auto;">
    <h2 style="text-align:center; color:#35424a;">Transaction History</h2>
    <div style="background: #f7f7f7; border-radius: 8px; padding: 18px 20px 10px 20px; margin-bottom: 25px;">
        <h3 style="color:#222; margin-bottom: 12px;">Merchant Details</h3>
        <p><strong>Name:</strong> {{ bill.fullname }}</p>
        <p><strong>Loan ID:</strong> {{ bill.loan_id }}</p>
        <p><strong>Total Amount:</strong> {{ bill.total_amount}}</p>
        <p><strong>Paid Amount:</strong> {{ bill.payed_amount }}</p>
        <p><strong>Remaining Amount:</strong> {{remaining}}
            
        </p>
    </div>
    <table style="width:100%; border-collapse:collapse; background:#fff; box-shadow:0 2px 8px rgba(0,0,0,0.04);">
        <thead>
            <tr style="background:#35424a; color:#fff;">
                <th>Date</th>
                <th>Amount</th>
                <th>Current Interest</th>
                <th>Payment Method</th>
                <th>Notes</th>
            </tr>
        </thead>
        <tbody>
            {% for payment in payments %}
            <tr style="text-align:center;">
                <td>{{ payment.date|date:"Y-m-d H:i" }}</td>
                <td>{{ payment.amount }}</td>
                <td>{{ payment.current_intrest }}</td>
                <td>{{ payment.payment_method }}</td>
                <td>{{ payment.notes }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="5" style="text-align:center; color:#888;">No transactions found.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
      <button class="no-print" onclick="window.print()">Print This Page</button>
</div>
{% endblock %}